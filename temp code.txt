Enum "film_rating_enum" {
  "G"
  "PG"
  "PG-13"
  "R"
  "NC-17"
}

Enum "subscription_type_enum" {
  "movies"
  "series"
  "all"
}

Enum "yes_no_enum" {
  "yes"
  "no"
}

Table "actor" {
  "actor_id" SMALLINT [pk, not null, increment]
  "first_name" VARCHAR(45) [not null]
  "last_name" VARCHAR(45) [not null]
}

Table "country" {
  "country_id" SMALLINT [pk, not null, increment]
  "country" VARCHAR(50) [not null]
}

Table "city" {
  "city_id" SMALLINT [pk, not null, increment]
  "city" VARCHAR(50) [not null]
  "country_id" SMALLINT [not null]
}

Table "address" {
  "address_id" SMALLINT [pk, not null, increment]
  "address" VARCHAR(50) [not null]
  "district" VARCHAR(20) [default: NULL]
  "city_id" SMALLINT [not null]
  "postal_code" VARCHAR(10) [default: NULL]
  "phone" VARCHAR(20) [not null]
}

Table "category" {
  "category_id" TINYINT [pk, not null, increment]
  "name" VARCHAR(25) [not null]
}

Table "language" {
  "language_id" TINYINT [pk, not null, increment]
  "name" CHAR(20) [not null]
}

Table "customer" {
  "customer_id" SMALLINT [pk, not null, increment]
  "first_name" VARCHAR(45) [not null]
  "last_name" VARCHAR(45) [not null]
  "email" VARCHAR(50) [default: NULL]
  "address_id" SMALLINT [not null]
  "active" BOOLEAN [not null, default: TRUE]
  "create_date" DATETIME [not null]
  "subscription_type" subscription_type_enum
}

Table "film" {
  "film_id" SMALLINT [pk, not null, increment]
  "title" VARCHAR(128) [not null]
  "description" TEXT [default: NULL]
  "release_year" YEAR [default: NULL]
  "language_id" TINYINT [not null]
  "original_language_id" TINYINT [default: NULL]
  "length" SMALLINT [default: NULL]
  "rating" film_rating_enum [default: "G"]
  "special_features" "SET('Trailers','Commentaries','Deleted Scenes','Behind the Scenes')" [default: NULL]

  "is_part_of_season" yes_no_enum [default: "no"]
}




Table "serie" {
  "serie_id" SMALLINT [pk, not null, increment]
  "title" VARCHAR(128) [not null]
  "description" TEXT [default: NULL]
  "rating" film_rating_enum [default: "G"]
}

Table "season" {
  "serie_id"  SMALLINT
  "season_id" SMALLINT [pk, not null, increment]
  "season_number" SMALLINT [default: 1]
  "description" TEXT [default: NULL]
  "release_year" YEAR [default: NULL]
  "rating" film_rating_enum [default: "G"]
  "special_features" "SET('Trailers','Commentaries','Deleted Scenes','Behind the Scenes')" [default: NULL]
  "episode_numbers" SMALLINT [default: NULL]
}

Table "episode" {
  "season_id"  SMALLINT
  "episode_id" SMALLINT [pk, not null, increment]
  "episode_number" SMALLINT [default: NULL]
}



Table "film_actor" {
  "actor_id" SMALLINT [not null]
  "film_id" SMALLINT [not null]

Indexes {
  (actor_id, film_id) [pk]
}
}

Table "film_category" {
  "film_id" SMALLINT [not null]
  "category_id" TINYINT [not null]

Indexes {
  (film_id, category_id) [pk]
}
}

Table "inventory" {
  "inventory_id" MEDIUMINT [pk, not null, increment]
  "film_id" SMALLINT [not null]
}

Table "rental" {
  "rental_id" INT [pk, not null, increment]
  "rental_date" DATETIME [not null]
  "inventory_id" MEDIUMINT [not null]
  "customer_id" SMALLINT [not null]

Indexes {
  (rental_date, inventory_id, customer_id) [unique]
}
}

Table "payment" {
  "payment_id" SMALLINT [pk, not null, increment]
  "customer_id" SMALLINT [not null]
  "rental_id" INT [default: NULL]
  "amount" DECIMAL(5,2) [not null]
  "payment_date" DATETIME [not null]
}

Ref "fk_serie_id":"serie"."serie_id" < "season"."serie_id" [update: cascade, delete: restrict]

Ref "fk_season_id":"season"."season_id" < "episode"."season_id" [update: cascade, delete: restrict]

Ref "fk_film_id":"episode"."episode_id" < "film"."film_id" [update: cascade, delete: restrict]



Ref "fk_city_country":"country"."country_id" < "city"."country_id" [update: cascade, delete: restrict]

Ref "fk_address_city":"city"."city_id" < "address"."city_id" [update: cascade, delete: restrict]

Ref "fk_customer_address":"address"."address_id" < "customer"."address_id" [update: cascade, delete: restrict]

// Ref "fk_subscription_id":"subscription"."customer_id" < "customer"."customer_id" [update: cascade, delete: restrict]

Ref "fk_film_language":"language"."language_id" < "film"."language_id" [update: cascade, delete: restrict]

Ref "fk_film_language_original":"language"."language_id" < "film"."original_language_id" [update: cascade, delete: restrict]

Ref "fk_film_actor_actor":"actor"."actor_id" < "film_actor"."actor_id" [update: cascade, delete: restrict]

Ref "fk_film_actor_film":"film"."film_id" < "film_actor"."film_id" [update: cascade, delete: restrict]

Ref "fk_film_category_film":"film"."film_id" < "film_category"."film_id" [update: cascade, delete: restrict]

Ref "fk_film_category_category":"category"."category_id" < "film_category"."category_id" [update: cascade, delete: restrict]

Ref "fk_inventory_film":"film"."film_id" < "inventory"."film_id" [update: cascade, delete: restrict]

Ref "fk_rental_inventory":"inventory"."inventory_id" < "rental"."inventory_id" [update: cascade, delete: restrict]

Ref "fk_rental_customer":"customer"."customer_id" < "rental"."customer_id" [update: cascade, delete: restrict]

Ref "fk_payment_rental":"rental"."rental_id" < "payment"."rental_id" [update: cascade, delete: set null]

Ref "fk_payment_customer":"customer"."customer_id" < "payment"."customer_id" [update: cascade, delete: restrict]
